<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Chen</title><meta name="author" content="Chen"><meta name="copyright" content="Chen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Chen">
<meta property="og:url" content="https://ikychen.github.io/blog/index.html">
<meta property="og:site_name" content="Chen">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ikychen.github.io/blog/img/tx.jpg">
<meta property="article:author" content="Chen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ikychen.github.io/blog/img/tx.jpg"><link rel="shortcut icon" href="/blog/img/favicon.png"><link rel="canonical" href="https://ikychen.github.io/blog/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Chen',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-02-03 09:24:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><link rel="stylesheet" href="/blog/css/my_index.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/blog/img/tx.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">74</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">21</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-cog"></i><span> 工具</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.logomaker.com.cn/index.php"><i class="fa-fw fas fa-genderless"></i><span> logo生成</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.aconvert.com/cn/image"><i class="fa-fw fas fa-images"></i><span> 图片压缩</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://tool.chinaz.com/Tools/unicode.aspx"><i class="fa-fw fas fa-code"></i><span> 编码转换</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/blog/img/default.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/blog/">Chen</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-cog"></i><span> 工具</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.logomaker.com.cn/index.php"><i class="fa-fw fas fa-genderless"></i><span> logo生成</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.aconvert.com/cn/image"><i class="fa-fw fas fa-images"></i><span> 图片压缩</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://tool.chinaz.com/Tools/unicode.aspx"><i class="fa-fw fas fa-code"></i><span> 编码转换</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Chen</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/ikychen" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:350776291@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/blog/2022/12/08/Java/ThreadLocal%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="ThreadLocal内存泄漏">     <img class="post_bg" src="/blog/img/cover/java.png" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="ThreadLocal内存泄漏"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/12/08/Java/ThreadLocal%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="ThreadLocal内存泄漏">ThreadLocal内存泄漏</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-08T05:54:02.084Z" title="发表于 2022-12-08 13:54:02">2022-12-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Java/">Java</a></span></div><div class="content">ThreadLocal原理
ThreadLocal的实现是这样的：每个Thread 维护一个 ThreadLocalMap 映射表，这个映射表的 key 是 ThreadLocal实例本身，value 是真正需要存储的 Object也就是说 ThreadLocal 本身并不存储值，它只是作为一个 key 来让线程从 ThreadLocalMap 获取 value。值得注意的是图中的虚线，表示 ThreadLocalMap 是使用 ThreadLocal 的弱引用作为 Key 的，弱引用的对象在 GC 时会被回收

ThreadLocal为什么会内存泄漏
ThreadLocalMap使用ThreadLocal的弱引用作为key，如果一个ThreadLocal没有外部强引用来引用它，那么系统 GC 的时候，这个ThreadLocal势必会被回收，这样一来，ThreadLocalMap中就会出现key为null的Entry，就没有办法访问这些key为null的Entry的value，如果当前线程再迟迟不结束的话，这些key为null的Entry的value就会一直存在一条强引用链：Threa ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/blog/2022/12/08/Java/%E5%BC%95%E7%94%A8/" title="强引用，软引用，弱引用和虚引用">     <img class="post_bg" src="/blog/img/cover/java.png" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="强引用，软引用，弱引用和虚引用"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/12/08/Java/%E5%BC%95%E7%94%A8/" title="强引用，软引用，弱引用和虚引用">强引用，软引用，弱引用和虚引用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-08T03:48:38.467Z" title="发表于 2022-12-08 11:48:38">2022-12-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Java/">Java</a></span></div><div class="content">概述
在JDK1.2以前的版本中，当一个对象不被任何变量引用，那么程序就无法再使用这个对象。也就是说，只有对象处于可触及状态，程序才能使用它。这就像在商店购买了某样物品后，如果有用就一直保留它，否则就把它扔到垃圾箱，由清洁工人收走。一般说来，如果物品已经被扔到垃圾箱，想再把它捡回来使用就不可能了。但有时候情况并不这么简单，可能会遇到可有可无的”鸡肋”物品。这种物品现在已经无用了，保留它会占空间，但是立刻扔掉它也不划算，因为也许将来还会派用场。对于这样的可有可无的物品：如果家里空间足够，就先把它保留在家里，如果家里空间不够，即使把家里所有的垃圾清除，还是无法容纳那些必不可少的生活用品，那么再扔掉这些可有可无的物品。


在Java中，虽然不需要程序员手动去管理对象的生命周期，但是如果希望某些对象具备一定的生命周期的话（比如内存不足时JVM就会自动回收某些对象从而避免OutOfMemory的错误）就需要用到软引用和弱引用了。


从Java SE2开始，就提供了四种类型的引用：强引用、软引用、弱引用和虚引用。Java中提供这四种引用类型主要有两个目的：第一是可以让程序员通过代码的方式决定某 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/blog/2022/11/23/Spring/%E6%89%8B%E5%86%99%E6%A8%A1%E6%8B%9FSpring/" title="手写模拟Spring">     <img class="post_bg" src="/blog/img/cover/spring.jpg" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="手写模拟Spring"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/11/23/Spring/%E6%89%8B%E5%86%99%E6%A8%A1%E6%8B%9FSpring/" title="手写模拟Spring">手写模拟Spring</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-23T12:37:09.545Z" title="发表于 2022-11-23 20:37:09">2022-11-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Spring/">Spring</a></span></div><div class="content">功能
容器启动
BeanDefinition扫描
Bean生命周期
单例与多例bean
依赖注入
AOP
Aware回调
初始化
BeanPostProcessor

代码结构spring
Autowired
BeanDefinition
BeanNameAware
BeanPostProcessor
CcApplicationContext
Component
ComponentScan
InitializingBean
Scope

Autowired 自动注入注解123@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.FIELD)public @interface Autowired &#123;&#125;

BeanDefinition bean的定义1234567891011121314151617181920public class BeanDefinition &#123;    //bean的类型    private Class type;    //bean作用域（单例/多例）    private St ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/blog/2022/11/18/%E5%B7%A5%E5%85%B7/%E6%96%87%E6%A1%A3%E5%9C%A8%E7%BA%BF%E9%A2%84%E8%A7%88kkFileView/" title="文档在线预览kkFileView">文档在线预览kkFileView</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-18T08:15:49.854Z" title="发表于 2022-11-18 16:15:49">2022-11-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/%E5%B7%A5%E5%85%B7/">工具</a></span></div><div class="content">概述
项目中需要word、excel等文件能够在线预览


支持 office, pdf, cad 等办公文档
支持 txt, xml(渲染), md(渲染), java, php, py, js, css 等所有纯文本
支持 zip, rar, jar, tar, gzip 等压缩包
支持 jpg, jpeg, png, gif, tif, tiff 等图片预览（翻转，缩放，镜像）
使用 spring-boot 开发，预览服务搭建部署非常简便
rest 接口提供服务，跨语言、跨平台特性(java,php,python,go,php，….)都支持，应用接入简单方便
抽象预览服务接口，方便二次开发，非常方便添加其他类型文件预览支持
最最重要 Apache 协议开源，代码 pull 下来想干嘛就干嘛

官网地址
https://kkfileview.keking.cn/zh-cn/index.html

gitee源码地址
https://gitee.com/kekingcn/file-online-preview

环境要求
Java: 1.8+
OpenOffice或LiberOffi ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/blog/2022/11/11/Java/ArrayList%E5%92%8CLinkedList%E7%9A%84%E5%8C%BA%E5%88%AB/" title="ArrayList和LinkedList的区别">     <img class="post_bg" src="/blog/img/cover/java.png" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="ArrayList和LinkedList的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/11/11/Java/ArrayList%E5%92%8CLinkedList%E7%9A%84%E5%8C%BA%E5%88%AB/" title="ArrayList和LinkedList的区别">ArrayList和LinkedList的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-11T09:35:06.515Z" title="发表于 2022-11-11 17:35:06">2022-11-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Java/">Java</a></span></div><div class="content">ArrayList
基于数组
可以按下标查询
可以插入到指定下标位置，但是会触发扩容操作，增加了额外的扩容成本

LinkedList
基于链表
需要对链表进行遍历，才能找到指定下表（但是如果获取的是头结点或尾结点，并不需要遍历）
如果插在头结点或尾结点是很快的，但是如果是插在指定下标位置，就需要遍历链表找到指定位置，从而降低了效率，但是链表不需要扩容


默认情况下，如果添加操作过多，而且都是插入在最后，就用LinkedList，因为不需要扩容查询的话，如果是直接遍历，两种区别并不大。但是如果需要按指定下标获取List的元素，那么就用ArrayList

</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/blog/2022/11/11/Java/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BF%AE%E6%94%B9final%E7%9A%84%E5%80%BC/" title="修改final的值">     <img class="post_bg" src="/blog/img/cover/concurrent.jpg" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="修改final的值"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/11/11/Java/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BF%AE%E6%94%B9final%E7%9A%84%E5%80%BC/" title="修改final的值">修改final的值</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-11T01:44:23.801Z" title="发表于 2022-11-11 09:44:23">2022-11-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/Java/">Java</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/blog/categories/Java/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">并发编程</a></span></div><div class="content">反射修改final修饰的变量
final我们都知道，被定义后不可修改，但是利用反射能不能修改成功呢

123456789101112131415161718192021class Work &#123;&#125;class Person &#123;    private final String finalName = &quot;张三&quot;;    private final int finalAge = 18;    private final Work finalWork = new Work();        //get方法    ...getter&#125;//我们先试着修改finalNamepublic static void main(String[] args) &#123;    Person person = new Person();    Class&lt;Person&gt; clazz = Person.class;    Field fieldName = clazz.getDeclaredField(&quot;finalName&quot ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/blog/2022/11/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" title="设计模式（十三）代理模式">     <img class="post_bg" src="/blog/img/cover/design.webp" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="设计模式（十三）代理模式"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/11/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%E4%B8%89%EF%BC%89%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/" title="设计模式（十三）代理模式">设计模式（十三）代理模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-10T02:00:12.523Z" title="发表于 2022-11-10 10:00:12">2022-11-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">定义
为其他对象提供一种代理以控制对这个对象的访问。


想要在访问一个类做一些其他控制时，可以通过代理的方式解决。例如我们在不想修改源码的情况下，对某些方法的前后做一下其他操作。

123456789101112131415161718192021222324252627282930interface Action &#123;    void doAction();&#125;class RealObj implements Action &#123;    @Override    public void doAction() &#123;        System.out.println(&quot;doAction...&quot;);    &#125;&#125;class ProxyObj implements Action &#123;    private RealObj realObj;    public ProxyObj() &#123;        this.realObj = new RealObj();    &#125;    @Override  ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/blog/2022/11/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/" title="设计模式（十二）状态模式">     <img class="post_bg" src="/blog/img/cover/design.webp" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="设计模式（十二）状态模式"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/11/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%E4%BA%8C%EF%BC%89%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/" title="设计模式（十二）状态模式">设计模式（十二）状态模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-10T01:48:25.093Z" title="发表于 2022-11-10 09:48:25">2022-11-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">定义
对有状态的对象，把复杂的“判断逻辑”提取到不同的状态对象中，允许状态对象在其内部状态发生改变时改变其行为。


环境类（Context）角色：也称为上下文，它定义了客户端需要的接口，内部维护一个当前状态，并负责具体状态的切换。
抽象状态（State）角色：定义一个接口，用以封装环境对象中的特定状态所对应的行为，可以有一个或多个行为。
具体状态（Concrete State）角色：实现抽象状态所对应的行为，并且在需要的情况下进行状态切换。

1234567891011121314151617181920212223242526272829303132333435363738394041424344454647//抽象状态类abstract class State &#123;    public abstract void handle(Context context);&#125;//具体状态A类class ConcreteStateA extends State &#123;    public void handle(Context context) &#123;       ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/blog/2022/11/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/" title="设计模式（十一）组合模式">     <img class="post_bg" src="/blog/img/cover/design.webp" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="设计模式（十一）组合模式"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/11/10/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/" title="设计模式（十一）组合模式">设计模式（十一）组合模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-10T01:24:47.717Z" title="发表于 2022-11-10 09:24:47">2022-11-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">定义
将对象组合成树形结构以表示”部分-整体”的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性。


Component（抽象构件）：它可以是接口或抽象类，为叶子构件和容器构件对象声明接口，在该角色中可以包含所有子类共有行为的声明和实现。在抽象构件中定义了访问及管理它的子构件的方法，如增加子构件、删除子构件、获取子构件等。
Leaf（叶子构件）：它在组合结构中表示叶子节点对象，叶子节点没有子节点，它实现了在抽象构件中定义的行为。对于那些访问及管理子构件的方法，可以通过异常等方式进行处理。
Composite（容器构件）：它在组合结构中表示容器节点对象，容器节点包含子节点，其子节点可以是叶子节点，也可以是容器节点，它提供一个集合用于存储子节点，实现了在抽象构件中定义的行为，包括那些访问及管理子构件的方法，在其业务方法中可以递归调用其子节点的业务方法。

文件目录设计123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/blog/2022/11/09/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%EF%BC%89%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/" title="设计模式（十）迭代器模式">     <img class="post_bg" src="/blog/img/cover/design.webp" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="设计模式（十）迭代器模式"></a></div><div class="recent-post-info"><a class="article-title" href="/blog/2022/11/09/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8D%81%EF%BC%89%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/" title="设计模式（十）迭代器模式">设计模式（十）迭代器模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-09T13:49:17.922Z" title="发表于 2022-11-09 21:49:17">2022-11-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/blog/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">定义
提供一种方法顺序访问一个聚合对象中的各个元素，而不暴露其内部的表示。


抽象迭代器角色(Iterator)：系统提供的接口，包含 hasNext()、next()、remove() 等方法。
具体迭代器角色(concreteIterator)：实现抽象迭代器接口中所定义的方法，完成对聚合对象的遍历，记录遍历的当前位置
抽象聚合角色(Aggregation)：定义存储、添加、删除聚合对象以及创建迭代器对象的接口。
具体聚合角色(ConcreteAggregation)：实现抽象聚合类，返回一个具体迭代器的实例。


如果集合元素是用不同的方式实现的，有数组，还有java的集合类，或其他方式，当要遍历这些集合元素的时候就要使用多种遍历方式，而且还会暴露元素的内部结构，这时就可以考虑迭代器模式解决

123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/blog/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/8/#content-inner">8</a><a class="extend next" rel="next" href="/blog/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/blog/img/tx.jpg" onerror="this.onerror=null;this.src='/blog/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Chen</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">74</div></a></div><div class="card-info-data-item is-center"><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">21</div></a></div><div class="card-info-data-item is-center"><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ikychen" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:350776291@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/blog/2022/12/08/Java/ThreadLocal%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="ThreadLocal内存泄漏"><img src="/blog/img/cover/java.png" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="ThreadLocal内存泄漏"/></a><div class="content"><a class="title" href="/blog/2022/12/08/Java/ThreadLocal%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="ThreadLocal内存泄漏">ThreadLocal内存泄漏</a><time datetime="2022-12-08T05:54:02.084Z" title="发表于 2022-12-08 13:54:02">2022-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/2022/12/08/Java/%E5%BC%95%E7%94%A8/" title="强引用，软引用，弱引用和虚引用"><img src="/blog/img/cover/java.png" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="强引用，软引用，弱引用和虚引用"/></a><div class="content"><a class="title" href="/blog/2022/12/08/Java/%E5%BC%95%E7%94%A8/" title="强引用，软引用，弱引用和虚引用">强引用，软引用，弱引用和虚引用</a><time datetime="2022-12-08T03:48:38.467Z" title="发表于 2022-12-08 11:48:38">2022-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/2022/11/23/Spring/%E6%89%8B%E5%86%99%E6%A8%A1%E6%8B%9FSpring/" title="手写模拟Spring"><img src="/blog/img/cover/spring.jpg" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="手写模拟Spring"/></a><div class="content"><a class="title" href="/blog/2022/11/23/Spring/%E6%89%8B%E5%86%99%E6%A8%A1%E6%8B%9FSpring/" title="手写模拟Spring">手写模拟Spring</a><time datetime="2022-11-23T12:37:09.545Z" title="发表于 2022-11-23 20:37:09">2022-11-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/2022/11/18/%E5%B7%A5%E5%85%B7/%E6%96%87%E6%A1%A3%E5%9C%A8%E7%BA%BF%E9%A2%84%E8%A7%88kkFileView/" title="文档在线预览kkFileView">文档在线预览kkFileView</a><time datetime="2022-11-18T08:15:49.854Z" title="发表于 2022-11-18 16:15:49">2022-11-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/2022/11/11/Java/ArrayList%E5%92%8CLinkedList%E7%9A%84%E5%8C%BA%E5%88%AB/" title="ArrayList和LinkedList的区别"><img src="/blog/img/cover/java.png" onerror="this.onerror=null;this.src='/blog/img/404.jpg'" alt="ArrayList和LinkedList的区别"/></a><div class="content"><a class="title" href="/blog/2022/11/11/Java/ArrayList%E5%92%8CLinkedList%E7%9A%84%E5%8C%BA%E5%88%AB/" title="ArrayList和LinkedList的区别">ArrayList和LinkedList的区别</a><time datetime="2022-11-11T09:35:06.515Z" title="发表于 2022-11-11 17:35:06">2022-11-11</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/blog/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Git/"><span class="card-category-list-name">Git</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/IDEA/"><span class="card-category-list-name">IDEA</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">18</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Java/JVM/"><span class="card-category-list-name">JVM</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Java/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"><span class="card-category-list-name">并发编程</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Jenkins/"><span class="card-category-list-name">Jenkins</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/blog/categories/Kong/"><span class="card-category-list-name">Kong</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/blog/tags/%E5%AE%89%E8%A3%85/" style="font-size: 1.15em; color: rgb(31, 59, 134)">安装</a><a href="/blog/tags/IDEA/" style="font-size: 1.15em; color: rgb(104, 28, 156)">IDEA</a><a href="/blog/tags/Windows/" style="font-size: 1.15em; color: rgb(72, 181, 95)">Windows</a><a href="/blog/tags/Linux/" style="font-size: 1.24em; color: rgb(87, 101, 154)">Linux</a><a href="/blog/tags/Docker/" style="font-size: 1.32em; color: rgb(90, 185, 85)">Docker</a><a href="/blog/tags/JVM/" style="font-size: 1.28em; color: rgb(104, 195, 36)">JVM</a><a href="/blog/tags/Java/" style="font-size: 1.41em; color: rgb(198, 11, 28)">Java</a><a href="/blog/tags/Kong/" style="font-size: 1.19em; color: rgb(61, 75, 189)">Kong</a><a href="/blog/tags/Jenkins/" style="font-size: 1.19em; color: rgb(153, 175, 175)">Jenkins</a><a href="/blog/tags/Maven/" style="font-size: 1.15em; color: rgb(125, 147, 91)">Maven</a><a href="/blog/tags/Mysql/" style="font-size: 1.19em; color: rgb(9, 110, 147)">Mysql</a><a href="/blog/tags/Spring/" style="font-size: 1.32em; color: rgb(150, 120, 110)">Spring</a><a href="/blog/tags/bug/" style="font-size: 1.15em; color: rgb(185, 96, 28)">bug</a><a href="/blog/tags/Git/" style="font-size: 1.15em; color: rgb(147, 111, 199)">Git</a><a href="/blog/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%92%8C%E9%87%8D%E6%9E%84/" style="font-size: 1.19em; color: rgb(56, 27, 30)">代码规范和重构</a><a href="/blog/tags/Zookeeper/" style="font-size: 1.15em; color: rgb(166, 20, 175)">Zookeeper</a><a href="/blog/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.45em; color: rgb(7, 91, 9)">设计模式</a><a href="/blog/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" style="font-size: 1.36em; color: rgb(113, 44, 65)">数据结构和算法</a><a href="/blog/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="font-size: 1.19em; color: rgb(86, 154, 22)">并发编程</a><a href="/blog/tags/OAuth/" style="font-size: 1.15em; color: rgb(193, 82, 199)">OAuth</a><a href="/blog/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 1.15em; color: rgb(25, 147, 162)">工具</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/blog/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/blog/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">23</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/blog/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/blog/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">33</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">74</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-02-03T01:24:43.397Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/blog/img/default.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Chen</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="/blog/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "Never put off till tomorrow what you can do today".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = 'Never put off till tomorrow what you can do today'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script src="/blog/js/custom.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>